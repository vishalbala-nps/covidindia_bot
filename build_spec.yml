version: 0.1
component: build
timeoutInSeconds: 6000
runAs: root
shell: bash
env:
  variables:
    "testEnv" : "Hello Bala, This is a test variable!!!"
  exportedVariables:
    "ABC": "ABC"

steps:
  - type: Command
    name: "Sleep"
    command: |
      sleep 10
  - type: Command
    name: "Dockerize"
    command: |
      docker build . --tag "iad.ocir.io/id204we8d65n/balaregistry/hello-bala:1.0"
  - type: Command
    name: "Save Docker Image"
    command: |
      docker save -o hello-bala_1.0.tar iad.ocir.io/id204we8d65n/balaregistry/hello-bala:1.0
      #echo "docker save is not working" > hello-bala_1.0.tar
      
outputArtifacts:
  - name: hello-bala
    type: BINARY
    location: hello-bala_1.0.tar
